<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linked List</title>
</head>

<body style="background-color: black; margin-left: 50px;">

    <h1 style="color:brown">Linked List Operations</h1>
    <h3 style="color:white">1- append a node</h3>
    <h3 style="color:white">2- append a node at specific position</h3>
    <h3 style="color:white">3- Traverse node</h3>
    <h3 style="color:white">4- Search a node with value</h3>
    <h3 style="color:white">5- Search a node with position</h3>
    <h3 style="color:white">6- delete first node</h3>
    <h3 style="color:white">7- delete last node</h3>
    <h3 style="color:white">8- delete a node using position</h3>
    <h3 style="color:white">9- delete a node using value</h3>

    <!-- <input id="inpValue" type="text" placeholder="type your value">
    <button onclick="push()">submit</button> -->


    <script>
        class List {
            constructor() {
                this.head = {
                    value: null,
                    next: null
                };
            };

            // 1- append node
            appendNode(value) {
                let newNode = {
                    value,
                    next: null
                };

                if (this.head === null || this.head.value === null) {
                    this.head = newNode;
                    return;
                }

                let current = this.head;
                while (current.next !== null) {
                    current = current.next
                }

                current.next = newNode;
            };

            // 2- append node at specific position
            appendAtSpecificPosition(position, value) {
                let newNode = {
                    value,
                    next: null
                };

                if (position === 1) {
                    if (this.head === null || this.head.value === null) {
                        this.head = newNode;
                        return;
                    };

                    let nextNode = this.head;
                    this.head = newNode;
                    this.head.next = nextNode;
                    return;
                }

                let lead = this.head;
                for (let i = 1; i < position - 1; i++) {
                    lead = lead.next;
                }

                let nextNode = lead.next;
                lead.next = newNode;
                lead.next.next = nextNode;
            };

            // 3- traversing list
            traverseNode() {
                if (this.head === null || this.head.value === null) {
                    console.warn("List is empty!");
                    return;
                };

                let current = this.head;

                while (current !== null) {
                    console.warn(current);
                    current = current.next;
                };
            };

            // 4- search node with value
            searchNodeWithValue(value) {
                if (this.head === null || this.head.value === null) {
                    console.warn("List is empty!");
                    return;
                }

                let current = this.head;
                for (let i = 1; current !== null; i++) {
                    if (current.value === value) {
                        console.warn(`your ${value} is at ${i} no. position`);
                        break;
                    };

                    current = current.next;
                };
            };

            // 5- search node with position
            searchNodeWithPosition(position) {
                if (this.head === null || this.head.next === null) {
                    console.warn("List is empty!");
                    return;
                };

                let current = this.head;
                for (let i = 1; current !== null; i++) {
                    if (i === position) {
                        console.log(`${position} no. position value is - `, current.value);
                    };
                    current = current.next;
                };
            };


            // 6- delete first node
            deleteFirstNode() {
                if (this.head === null || this.head.value === null) {
                    console.warn("List is empty!");
                    return;
                };

                if (this.head.next === null) {
                    this.head = null;
                    return;
                };

                // let nextNode = this.head;
                this.head = this.head.next;
            };


            // 7- delete last node
            deleteLastNode() {
                if (this.head === null || this.head.value === null) {
                    console.warn("List is Empty!");
                    return;
                };

                if (this.head.next === null) {
                    this.head = null;
                    return;
                };

                let current = this.head;
                while (current.next.next !== null) {
                    current = current.next;
                }
                current.next = null;
            };


            // 8- delete a node using the position
            deleteNodeUsingPosition(position) {
                if (this.head === null || this.head.value === null) {
                    console.warn("The list is empty!");
                    return;
                };

                if (position === 1) {
                    if (this.head.next === null) {
                        this.head = null;
                        return;
                    };

                    this.head = this.head.next;
                    return;
                };

                let lead = this.head;
                for (let i = 1; i < position - 1; i++) {
                    lead = lead.next;
                };

                lead.next = lead.next.next;
            };


            // 9- delete a node using value
            deleteNodeUsingValue(value) {
                // if the list is empty
                if (this.head === null || this.head.value === null) {
                    console.warn("The list is empty!");
                    return;
                };

                // if the value matched with the first node
                if (this.head.value === value) {
                    // if the list has only one node
                    if (this.head.next === null) {
                        this.head = null;
                        return;
                    };

                    // if the list has multiple nodes 
                    this.head = this.head.next;
                    return;
                };

                let lead = this.head;
                while (lead !== null) {
                    if (lead.next.value === value) {
                        break;
                    }
                    lead = lead.next;
                }

                lead.next = lead.next.next;
            }


            display() {
                console.warn(this.head);
            };
        };

        const list = new List();

        // 1- append node
        list.appendNode(10);
        list.appendNode(20);
        list.appendNode(30);
        list.appendNode(40);

        // 2- append node at specific position
        // list.appendAtSpecificPosition(2, 5555)

        // 3- traversing list
        // list.traverseNode()

        // 4- search node with value
        // list.searchNodeWithValue(20);

        // 5- search node with position
        // list.searchNodeWithPosition(3)

        // 6- delete first node
        // list.deleteFirstNode()

        // 7- delete last node
        // list.deleteLastNode();

        //  8 - delete a node using the position
        // list.deleteNodeUsingPosition(2);

        // 9 - delete a node using value
        list.deleteNodeUsingValue(40)

        list.display()
    </script>
</body>

</html>